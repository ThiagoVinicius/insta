<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<header>
  <script src="//code.jquery.com/jquery-2.1.3.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <title>Alguém aí?</title>
</header>
<body>
    <div id="player" class="center-block"></div>
	
	<div class="form-group">
	  <button type="button" class="btn btn-default btn-lg center-block" onclick="executaResposta()">Thiago!</button>
	</div>
	
	<script>
	  // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

	  var youtubePronto = false;
	  var videoIdExecucar = "";
      var player;
	  
	  
	  var chave = window.location.hash.substring(1);
	  
	  $.getJSON("data/".concat(chave, ".json"),
	    function (data) {
		  carregaVideoId(data.videoId);
	    });
	  
	  
	  function carregaVideoId(videoId) {
	    videoIdExecucar = videoId;
		iniciaPlayerSePossivel();
	  }
	  
      function onYouTubeIframeAPIReady() {
	    youtubePronto = true;
		iniciaPlayerSePossivel();
      }
	  
	  function iniciaPlayerSePossivel() {
	    if (youtubePronto && videoIdExecucar != "") {
		  iniciaPlayer();
		}
	  }
	  
	  function iniciaPlayer() {
        player = new YT.Player('player', {
          height: '720',
          width: '1280',
          videoId: videoIdExecucar,
          playerVars: {
            'controls' : 0,
            'showinfo' : 0,
            'rel' : 0,
            'fs' : 0,
			'modestbranding' : 1,
          },
          events: {
            'onReady': onPlayerReady,
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        event.target.playVideo();
      }

	  function executaResposta() {
	    player.seekTo(0, true);
		player.playVideo();
	  }
	
	</script>

	
</body>